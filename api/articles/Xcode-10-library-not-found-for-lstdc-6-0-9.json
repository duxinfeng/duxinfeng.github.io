{"title":"Xcode 10 library not found for -lstdc++.6.0.9","uid":"41243d14a955673e898d13a6217e7986","slug":"Xcode-10-library-not-found-for-lstdc-6-0-9","date":"2018-10-08T08:08:33.000Z","updated":"2020-03-28T15:43:58.000Z","comments":true,"path":"api/articles/Xcode-10-library-not-found-for-lstdc-6-0-9.json","keywords":null,"cover":null,"content":"<h3 id=\"错误原因：\"><a href=\"#错误原因：\" class=\"headerlink\" title=\"错误原因：\"></a>错误原因：</h3><p><code>libstdc++</code>库五年前已经废弃，已经在iOS 12模拟器中删除，也不支持(tvOS和watchOS)平台。苹果建议大家使用经过了 <code>llvm</code> 优化过并且全面支持C++11的 <code>libc++</code> 库，<code>libc++</code> 为 <code>llvm</code> 项目重新编写的库，简化了代码，速度也有加快。</p>\n<h3 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案:\"></a>解决方案:</h3><ol>\n<li><p><code>Target -&gt; Build Phases -&gt; Link Binary With Libraries</code>里把<code>libstdc++.6.0.9.tbd</code>替换成<code>libc++.tbd</code>。然后Xcode 导航菜单栏，<code>File -&gt; Workspace Setting</code> 然后把上面的<code>Build System</code>设置成<code>Legacy Build System</code>，下面的<code>Build System</code>设置为<code>Use Shared Setting</code>(或者上面的<code>Build System</code>默认<code>New Build System (Default)</code>,下面<code>Build System</code>设置成<code>Legacy Build System</code>好像都可以)。</p>\n</li>\n<li><p>手动将 Xcode 9 中的库 <code>libstdc++.6.0.9.tbd</code> 复制到 Xcode 10 目录下（未验证）</p>\n<pre><code> Xcode 9 路径`/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/lib`\n  \n Xcode 10 路径`/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/lib`目录下\n \n 具体操作：\n 真机拷贝tdb库到\n /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS.sdk/usr/lib/\n \n 模拟器拷贝dylib库到\n /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/CoreSimulator/Profiles/Runtimes/iOS.simruntime/Contents/Resources/RuntimeRoot/usr/lib/\n \n 模拟器拷贝tdb库到\n /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/usr/lib/\n \n 对应库下载地址: https://github.com/Kila2/libstdc-.6.0.9.tbd ,iPhoneOS文件下的库对应真机目录下的库，iPhoneSimulator目录下的库对应模拟器下的库\n</code></pre>\n</li>\n</ol>\n<h3 id=\"自己业务\"><a href=\"#自己业务\" class=\"headerlink\" title=\"自己业务\"></a>自己业务</h3><p>如果自己业务中使用<code>libstdc++</code>直接换成<code>libc++</code></p>\n<p>如果使用cocoapods集成的第三方SDK中包含<code>libstdc++</code>，则需要第三方服务升级支持，或者改用手动集成，然后把<code>libstdc++</code>换成<code>libc++</code></p>\n<p>参考：<br><a href=\"https://awhisper.github.io/2018/06/08/libstdc-inxcode10ios12\">https://awhisper.github.io/2018/06/08/libstdc-inxcode10ios12</a><br><a href=\"https://github.com/Kila2/libstdc-.6.0.9.tbd\">https://github.com/Kila2/libstdc-.6.0.9.tbd</a></p>\n","text":"错误原因：libstdc++库五年前已经废弃，已经在iOS 12模拟器中删除，也不支持(tvOS和watchOS)平台。苹果建议大家使用经过了 llvm 优化过并且全面支持C++11的 libc++ 库，libc++ 为 llvm 项目重新编写的库，简化了代码，速度也有加快。 解...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"iOS","slug":"iOS","count":37,"path":"api/categories/iOS.json"}],"tags":[{"name":"Xcode10","slug":"Xcode10","count":2,"path":"api/tags/Xcode10.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0%EF%BC%9A\"><span class=\"toc-text\">错误原因：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\"><span class=\"toc-text\">解决方案:</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%B7%B1%E4%B8%9A%E5%8A%A1\"><span class=\"toc-text\">自己业务</span></a></li></ol>","author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"在纠结什么?","uid":"60f0f07885a25c68d799fd43eb049c33","slug":"在纠结什么","date":"2018-10-15T07:22:07.000Z","updated":"2020-03-11T13:58:29.000Z","comments":true,"path":"api/articles/在纠结什么.json","keywords":null,"cover":null,"text":"如题吧！ ","link":"","photos":[],"count_time":{"symbolsCount":5,"symbolsTime":"1 mins."},"categories":[{"name":"碎碎念","slug":"碎碎念","count":13,"path":"api/categories/碎碎念.json"}],"tags":[{"name":"租房","slug":"租房","count":2,"path":"api/tags/租房.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}},"next_post":{"title":"Xcode 10  Multiple commands produce 错误","uid":"9ac5b96955bc8da8b3ddc88f8d47342d","slug":"Xcode-10-Multiple-commands-produce-错误","date":"2018-10-08T07:03:49.000Z","updated":"2020-03-11T15:19:45.000Z","comments":true,"path":"api/articles/Xcode-10-Multiple-commands-produce-错误.json","keywords":null,"cover":null,"text":"部分旧的工程用Xcode 10打开打开的时候报如下错： Build system information error: Multiple commands produce &#39;&#x2F;Users&#x2F;xxx&#x2F;Library&#x2F;Developer&...","link":"","photos":[],"count_time":{"symbolsCount":869,"symbolsTime":"1 mins."},"categories":[{"name":"iOS","slug":"iOS","count":37,"path":"api/categories/iOS.json"}],"tags":[{"name":"Xcode10","slug":"Xcode10","count":2,"path":"api/tags/Xcode10.json"},{"name":"Error","slug":"Error","count":1,"path":"api/tags/Error.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}}}