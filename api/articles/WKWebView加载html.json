{"title":"WKWebView","uid":"7bfd19b4c7ec8fb1be636aa7189676b0","slug":"WKWebView加载html","date":"2017-04-10T10:57:55.000Z","updated":"2020-03-28T15:57:22.000Z","comments":true,"path":"api/articles/WKWebView加载html.json","keywords":null,"cover":null,"content":"<h3 id=\"加载本地html\"><a href=\"#加载本地html\" class=\"headerlink\" title=\"加载本地html\"></a>加载本地html</h3><pre class=\"line-numbers language-objective-c\" data-language=\"objective-c\"><code class=\"language-objective-c\">WKWebViewConfiguration *configuration &#x3D; [[WKWebViewConfiguration alloc] init];\nWKWebView *wkWebView &#x3D; [[WKWebView alloc] initWithFrame:self.view.frame configuration:configuration];\nwkWebView.backgroundColor &#x3D; [UIColor whiteColor];\nwkWebView.scrollView.showsVerticalScrollIndicator &#x3D; NO;\n[wkWebView.scrollView setContentInset:UIEdgeInsetsMake(0, 0, 44, 0)];\nNSString *filePath &#x3D; [[NSBundle mainBundle] pathForResource:@&quot;abc&quot; ofType:@&quot;html&quot;];\nNSURL *baseURL &#x3D; [NSURL fileURLWithPath:[[NSBundle mainBundle] bundlePath]];\nNSError *error;\nNSString *html &#x3D; [NSString stringWithContentsOfFile:filePath\n                                           encoding:NSUTF8StringEncoding\n                                              error:&amp;error];\n[wkWebView loadHTMLString:html baseURL:baseURL];\n[self.view addSubview:wkWebView];<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"加载一个网页\"><a href=\"#加载一个网页\" class=\"headerlink\" title=\"加载一个网页\"></a>加载一个网页</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">WKWebViewConfiguration *configuration &#x3D; [[WKWebViewConfiguration alloc] init];\n WKWebView *wkWebView &#x3D; [[WKWebView alloc] initWithFrame:self.view.bounds configuration:configuration];\n wkWebView.backgroundColor &#x3D; [UIColor whiteColor];\n wkWebView.scrollView.showsVerticalScrollIndicator &#x3D; NO;\n NSURL *url &#x3D; [[NSURL alloc]initWithString:@&quot;http:&#x2F;&#x2F;www.baidu.com&quot;];\n [wkWebView loadRequest:[NSURLRequest requestWithURL:url]];\n [self.view addSubview:wkWebView];\n    <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"加载本地PDF\"><a href=\"#加载本地PDF\" class=\"headerlink\" title=\"加载本地PDF\"></a>加载本地PDF</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">- (void)didLoadLocalPDF:(NSURL *)filePath\n&#123;    \n    WKWebViewConfiguration *configuration &#x3D; [[WKWebViewConfiguration alloc] init];\n    WKWebView *wkWebView &#x3D; [[WKWebView alloc] initWithFrame:self.view.bounds configuration:configuration];\n    wkWebView.backgroundColor &#x3D; [UIColor whiteColor];\n    wkWebView.scrollView.showsVerticalScrollIndicator &#x3D; NO;\n    [wkWebView loadData:[NSData dataWithContentsOfURL:filePath] MIMEType:@&quot;application&#x2F;pdf&quot; characterEncodingName:@&quot;UTF-8&quot; baseURL:nil];\n    [self.view addSubview:wkWebView];\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h3 id=\"加载在线PDF\"><a href=\"#加载在线PDF\" class=\"headerlink\" title=\"加载在线PDF\"></a>加载在线PDF</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">WKWebViewConfiguration *configuration &#x3D; [[WKWebViewConfiguration alloc] init];\nWKWebView *wkWebView &#x3D; [[WKWebView alloc] initWithFrame:self.view.bounds configuration:configuration];\nwkWebView.backgroundColor &#x3D; [UIColor whiteColor];\nwkWebView.scrollView.showsVerticalScrollIndicator &#x3D; NO;\nNSURL *url &#x3D; [[NSURL alloc]initWithString:@&quot;https:&#x2F;&#x2F;xxx.pdf&quot;];\n[wkWebView loadRequest:[NSURLRequest requestWithURL:url]];\n[self.view addSubview:wkWebView];<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","text":"加载本地htmlWKWebViewConfiguration *configuration &#x3D; [[WKWebViewConfiguration alloc] init]; WKWebView *wkWebView &#x3D; [[WKWebView alloc] i...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"WKWebView","slug":"WKWebView","count":2,"path":"api/tags/WKWebView.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0html\"><span class=\"toc-text\">加载本地html</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%A0%E8%BD%BD%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5\"><span class=\"toc-text\">加载一个网页</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0PDF\"><span class=\"toc-text\">加载本地PDF</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8A%A0%E8%BD%BD%E5%9C%A8%E7%BA%BFPDF\"><span class=\"toc-text\">加载在线PDF</span></a></li></ol>","author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"修复小BUG的时候修出一个大BUG","uid":"16068c99a3b9618cf319e6dbc28150cc","slug":"修复小BUG的时候修出一个大BUG","date":"2017-05-01T15:40:36.000Z","updated":"2020-03-28T15:57:45.000Z","comments":true,"path":"api/articles/修复小BUG的时候修出一个大BUG.json","keywords":null,"cover":null,"text":"回北京的高铁上接到师兄电话说app的崩溃率有点高，问我有没有回来看一下什么情况。 今天凌晨的时候4.0.0修复版本上线，主要修复iOS 7用户的几个页面崩溃问题，因为没有iOS 7设备，所以只能请根据崩溃日志定位，但是又不能保证100%没问题，所以也就没有给测试直接上了，然后就是...","link":"","photos":[],"count_time":{"symbolsCount":405,"symbolsTime":"1 mins."},"categories":[{"name":"生活","slug":"生活","count":13,"path":"api/categories/生活.json"}],"tags":[{"name":"复盘","slug":"复盘","count":7,"path":"api/tags/复盘.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}},"next_post":{"title":"貌似很有道理","uid":"dcfb890dedbf32cd06db579b02756564","slug":"貌似很有道理","date":"2017-01-02T04:34:05.000Z","updated":"2020-03-11T15:34:02.000Z","comments":true,"path":"api/articles/貌似很有道理.json","keywords":null,"cover":null,"text":"1、如果有一天： 你不再寻找爱情，只是去爱；你不再渴望成功，只是去做； 你不再追求成长，只是去修；一切才真正开始！ 2、如果不能在一起，就不要给对方任何希望任何暗示，这才是最大的担当；分开了，不去打搅让对方安然生活，这才是最后的温柔。 3、不要去听别人的忽悠，你人生的每一步都必须...","link":"","photos":[],"count_time":{"symbolsCount":342,"symbolsTime":"1 mins."},"categories":[{"name":"生活","slug":"生活","count":13,"path":"api/categories/生活.json"}],"tags":[{"name":"复盘","slug":"复盘","count":7,"path":"api/tags/复盘.json"},{"name":"摘录","slug":"摘录","count":1,"path":"api/tags/摘录.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}}}