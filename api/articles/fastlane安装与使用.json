{"title":"fastlane安装与使用","uid":"f2599a31f78cc872ad4b78389c7b6f9f","slug":"fastlane安装与使用","date":"2017-12-04T08:39:21.000Z","updated":"2020-03-11T13:00:27.000Z","comments":true,"path":"api/articles/fastlane安装与使用.json","keywords":null,"cover":null,"content":"<p>最终效果：在终端上输入<code>bundle exec fastlane beta</code> ,自动打包(ad-hoc)ipa并上传到<a href=\"https://www.pgyer.com/\">https://www.pgyer.com</a></p>\n<ol>\n<li>确保 Xcode command line 已经安装</li>\n<li>gem install fastlane –verbose</li>\n<li>到工程的目录下执行fastlane init</li>\n<li>按照提示输入 AppID以及密码</li>\n</ol>\n<h3 id=\"使用-bundler-管理依赖\"><a href=\"#使用-bundler-管理依赖\" class=\"headerlink\" title=\"使用 bundler 管理依赖\"></a>使用 bundler 管理依赖</h3><p>bundler 用来管理 fastlane 自身版本和 fastlane 运行时的相关依赖版本, 相当于 iOS 开发中的 CocoaPods 框架, 使用方法也和 CocoaPods 如出一辙</p>\n<p>安装bundler：sudo gem install bundler</p>\n<p>在项目根目录下新建 Gemfile 文件并写入<br>source “<a href=\"https://gems.ruby-china.org&quot;/\">https://gems.ruby-china.org&quot;</a></p>\n<p>gem “fastlane”<br>gem “cocoapods”</p>\n<p>安装依赖库, 生成 Gemfile.lock 文件, 这个文件和我们平常接触的 Podfile.lock 文件功能一致, 配置 CI 时也需要在每次构建前调用该命令<br>bundle install</p>\n<p>更新 Gemfile.lock 文件</p>\n<p>bundle exec fastlane [lane]</p>\n<h3 id=\"安装蒲公英插件\"><a href=\"#安装蒲公英插件\" class=\"headerlink\" title=\"安装蒲公英插件\"></a>安装蒲公英插件</h3><p>fastlane add_plugin pgyer</p>\n<p>执行上述命令后，Fastlane 会自动在 App 目录中生成 fastlane 目录，其中就会有 Fastlane 的配置文件 fastlane/Fastfile，这里，我们用 vim 打开：</p>\n<p>vim ./fastlane/Fastfile</p>\n<p>然后，我们找到我们在用的工作流（action），在 gym 指令后，加入蒲公英插件的配置信息。例如：</p>\n<p>lane :beta do<br>  gym(export_method: “ad-hoc”)<br>  pgyer(api_key: “7f15xxxxxxxxxxxxxxxxxx141”, user_key: “4a5bcxxxxxxxxxxxxxxx3a9e”)<br>end</p>\n<p>打包并自动上传 App 到蒲公英</p>\n<p>经过以上配置后，就可以使用 Fastlane 来打包 App，并自动上传到蒲公英了。在终端下，定位到项目所在目录，输入以下命令即可：</p>\n<p>bundle exec fastlane beta</p>\n<p>参考文档</p>\n<ol>\n<li><a href=\"https://www.pgyer.com/doc/view/fastlane\">https://www.pgyer.com/doc/view/fastlane</a></li>\n<li><a href=\"http://www.jianshu.com/p/5661000d4d7f\">http://www.jianshu.com/p/5661000d4d7f</a></li>\n<li><a href=\"https://github.com/fastlane-old/gym/issues/122\">https://github.com/fastlane-old/gym/issues/122</a></li>\n<li><a href=\"http://www.jianshu.com/p/edcd8d9430f6\">http://www.jianshu.com/p/edcd8d9430f6</a></li>\n<li><a href=\"https://github.com/mythkiven/AD_Fastlane\">https://github.com/mythkiven/AD_Fastlane</a></li>\n</ol>\n","text":"最终效果：在终端上输入bundle exec fastlane beta ,自动打包(ad-hoc)ipa并上传到https://www.pgyer.com 确保 Xcode command line 已经安装 gem install fastlane –verbose 到工程的...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"工具","slug":"工具","count":10,"path":"api/categories/工具.json"}],"tags":[{"name":"fastlane","slug":"fastlane","count":1,"path":"api/tags/fastlane.json"},{"name":"pgyer","slug":"pgyer","count":1,"path":"api/tags/pgyer.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-bundler-%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">使用 bundler 管理依赖</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E8%92%B2%E5%85%AC%E8%8B%B1%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">安装蒲公英插件</span></a></li></ol>","author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"碎碎念在2018年1月9日","uid":"b89c832f509e26b8668ac8c5d655f9ac","slug":"碎碎念在2018年1月9日","date":"2018-01-09T03:40:15.000Z","updated":"2020-03-11T13:25:19.000Z","comments":true,"path":"api/articles/碎碎念在2018年1月9日.json","keywords":null,"cover":null,"text":"在https://atjason.com中看到作者每天写一点从2015年11月18日坚持到现在已有两年多，然后又想起记流水账了。 长时间不写不知道怎么开头，偶尔有零碎的想法，放在了备忘录上想等着哪天有时间、空闲了、无聊的时候捡起来整理一下，到后真的有那么一天，却一点兴趣也没有，或...","link":"","photos":[],"count_time":{"symbolsCount":316,"symbolsTime":"1 mins."},"categories":[{"name":"生活","slug":"生活","count":13,"path":"api/categories/生活.json"}],"tags":[{"name":"碎碎念","slug":"碎碎念","count":8,"path":"api/tags/碎碎念.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}},"next_post":{"title":"关于FileZila菜单被遮挡不能拖动问题","uid":"143b08869866267d43ff8aceb5cadef5","slug":"关于FileZila菜单被遮挡不能拖动问题","date":"2017-11-30T03:04:18.000Z","updated":"2020-03-11T15:23:13.000Z","comments":true,"path":"api/articles/关于FileZila菜单被遮挡不能拖动问题.json","keywords":null,"cover":null,"text":"1、系统偏好设置 –&gt; 通用 –&gt; 外观 –&gt; (勾选)自动隐藏和显示菜单栏 2、待状态栏隐藏后，FileZila导航栏有小部分能看见，选中导航栏进行移动 ","link":"","photos":[],"count_time":{"symbolsCount":88,"symbolsTime":"1 mins."},"categories":[{"name":"工具","slug":"工具","count":10,"path":"api/categories/工具.json"}],"tags":[{"name":"FileZila","slug":"FileZila","count":1,"path":"api/tags/FileZila.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}}}