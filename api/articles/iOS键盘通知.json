{"title":"iOS键盘通知","uid":"fe5b28098a33f02f182467f88ab95c02","slug":"iOS键盘通知","date":"2015-08-21T09:32:55.000Z","updated":"2020-03-11T13:09:43.000Z","comments":true,"path":"api/articles/iOS键盘通知.json","keywords":null,"cover":[],"content":"<h3 id=\"iOS系统键盘通知\"><a href=\"#iOS系统键盘通知\" class=\"headerlink\" title=\"iOS系统键盘通知\"></a>iOS系统键盘通知</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">UIKeyboardWillShowNotification      &#x2F;&#x2F; 键盘将要出现\nUIKeyboardDidShowNotification       &#x2F;&#x2F; 键盘已经出现\nUIKeyboardWillHideNotification      &#x2F;&#x2F; 键盘将要消失\nUIKeyboardDidHideNotification       &#x2F;&#x2F; 键盘已经消失\nUIKeyboardWillChangeFrameNotification   &#x2F;&#x2F; 键盘frame将要修改\nUIKeyboardDidChangeFrameNotification    &#x2F;&#x2F; 键盘frame已经修改<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"键盘通知事件里获取userInfo-key\"><a href=\"#键盘通知事件里获取userInfo-key\" class=\"headerlink\" title=\"键盘通知事件里获取userInfo key\"></a>键盘通知事件里获取userInfo key</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">UIKeyboardFrameBeginUserInfoKey         &#x2F;&#x2F; 开始时的键盘位置\nUIKeyboardFrameEndUserInfoKey           &#x2F;&#x2F; 结束时的键盘位置\nUIKeyboardAnimationCurveUserInfoKey     &#x2F;&#x2F; 动画类型\nUIKeyboardAnimationDurationUserInfoKey  &#x2F;&#x2F; 动画持续事件\nUIKeyboardIsLocalUserInfoKey            &#x2F;&#x2F; 是否为本地用户键盘\nUIKeyboardCenterBeginUserInfoKey        &#x2F;&#x2F; 开始时的键盘中心\nUIKeyboardCenterEndUserInfoKey          &#x2F;&#x2F; 结束时的键盘中心\nUIKeyboardBoundsUserInfoKey             &#x2F;&#x2F; 键盘边界<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"关于iPad浮动键盘\"><a href=\"#关于iPad浮动键盘\" class=\"headerlink\" title=\"关于iPad浮动键盘\"></a>关于iPad浮动键盘</h3><p>在iPad上键盘可以拆分和浮动，在拆分和浮动情况下 <code>UIKeyboardWillShowNotification</code> 、 <code>UIKeyboardWillHideNotification</code> 两个通知并会触发，需要通过监听<code>UIKeyboardWillChangeFrameNotification </code>或者<code>UIKeyboardDidChangeFrameNotification </code>获取键盘的一些变化。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[[NSNotificationCenter defaultCenter] addObserverForName:UIKeyboardDidChangeFrameNotification object:nil queue:[NSOperationQueue mainQueue] usingBlock:^(NSNotification * notification) &#123;\n            CGRect keyboardEndFrame &#x3D; [[notification.userInfo objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue];\n            CGRect screenRect &#x3D; [[UIScreen mainScreen] bounds];\n            if (CGRectIntersectsRect(keyboardEndFrame, screenRect)) &#123;\n                &#x2F;&#x2F; 键盘显示\n            &#125; else &#123;\n                &#x2F;&#x2F; 键盘隐藏\n            &#125;\n        &#125;];<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"http://qiniu.niuxtech.cn/IMG_0832.PNG\"></p>\n<p><img src=\"http://qiniu.niuxtech.cn/IMG_0830.PNG\"></p>\n<p><img src=\"http://qiniu.niuxtech.cn/IMG_0831.PNG\"></p>\n<p>2020.3.11 更新</p>\n<p>如果iPad上使用了悬浮键盘，当键盘消失的时候，键盘的x,y,size都是0，需要特殊处理。</p>\n<p>在 iPad 上拆分和移动键盘: <a href=\"https://support.apple.com/zh-cn/HT207521\">https://support.apple.com/zh-cn/HT207521</a></p>\n<p>在 iPad 上使用浮动式键盘: <a href=\"https://support.apple.com/zh-cn/HT210758\">https://support.apple.com/zh-cn/HT210758</a></p>\n","text":"iOS系统键盘通知UIKeyboardWillShowNotification &#x2F;&#x2F; 键盘将要出现 UIKeyboardDidShowNotification &#x2F;&#x2F; 键盘已经出现 UIKeyboardWillHideNotification...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"键盘","slug":"键盘","count":1,"path":"api/tags/键盘.json"},{"name":"通知","slug":"通知","count":1,"path":"api/tags/通知.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#iOS%E7%B3%BB%E7%BB%9F%E9%94%AE%E7%9B%98%E9%80%9A%E7%9F%A5\"><span class=\"toc-text\">iOS系统键盘通知</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%94%AE%E7%9B%98%E9%80%9A%E7%9F%A5%E4%BA%8B%E4%BB%B6%E9%87%8C%E8%8E%B7%E5%8F%96userInfo-key\"><span class=\"toc-text\">键盘通知事件里获取userInfo key</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B3%E4%BA%8EiPad%E6%B5%AE%E5%8A%A8%E9%94%AE%E7%9B%98\"><span class=\"toc-text\">关于iPad浮动键盘</span></a></li></ol>","author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"个人GitHub Star Repo分类","uid":"d29d68cd8166fec943514684f51fc190","slug":"个人GitHub-Star-Repo分类","date":"2015-09-08T06:09:16.000Z","updated":"2020-03-11T15:21:52.000Z","comments":true,"path":"api/articles/个人GitHub-Star-Repo分类.json","keywords":null,"cover":null,"text":"个人GitHub主页Star Repo 分类，方便查找 网络请求库 https://github.com/AFNetworking/AFNetworking https://github.com/Alamofire/AlamofireImage 菜单 https://github...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"源码","slug":"源码","count":2,"path":"api/tags/源码.json"},{"name":"GitHub","slug":"GitHub","count":1,"path":"api/tags/GitHub.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}},"next_post":{"title":"symbolicatecrash 分析iOS Crash文件","uid":"0486f007652796b9b153f0812cb5b6b6","slug":"symbolicatecrash-分析iOS-Crash文件","date":"2015-08-18T05:50:04.000Z","updated":"2020-03-11T12:57:49.000Z","comments":true,"path":"api/articles/symbolicatecrash-分析iOS-Crash文件.json","keywords":null,"cover":null,"text":"2018.1.13更新：审核的时候如果是因为崩溃被拒，审核人员会在回复的邮件中附上crash信息(txt文件格式),下载这个文件开始对它进行分析，查看源码崩溃的具体位置。 新建Crash文件夹,把分析工具symbolicatecrash 、崩溃日志crash.txt和.dSYM文...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"Crash","slug":"Crash","count":1,"path":"api/tags/Crash.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}}}