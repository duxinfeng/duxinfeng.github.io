{"title":"UITabBar、UINavigationBar设置","uid":"4c7e976d04f2d5333065eee2e4024f25","slug":"UITabBar、UINavigationBar设置","date":"2018-03-28T09:20:49.000Z","updated":"2020-03-11T14:25:03.000Z","comments":true,"path":"api/articles/UITabBar、UINavigationBar设置.json","keywords":null,"cover":null,"content":"<p><strong>UITabBar</strong></p>\n<pre class=\"line-numbers language-objective-c\" data-language=\"objective-c\"><code class=\"language-objective-c\">        NSDictionary *normalTitleAttributes &#x3D; @&#123;NSForegroundColorAttributeName:[UIColor grayColor],NSFontAttributeName:[UIFont systemFontOfSize:10]&#125;;\n    NSDictionary *selectedTitleAttributes &#x3D; @&#123;NSForegroundColorAttributeName:[UIColor redColor],NSFontAttributeName:[UIFont systemFontOfSize:10]&#125;;\n    [[UITabBarItem appearance] setTitleTextAttributes:normalTitleAttributes forState:UIControlStateNormal];\n    [[UITabBarItem appearance] setTitleTextAttributes:selectedTitleAttributes forState:UIControlStateSelected];\n  \n#if __IPHONE_OS_VERSION_MAX_ALLOWED &gt;&#x3D; 130000\n  \n    if (@available(iOS 13.0, *)) &#123;\n       \n        UITabBarAppearance* appearance &#x3D;  self.tabBar.standardAppearance.copy;\n        appearance.backgroundImage &#x3D; [UIImage imageWithColor:[UIColor whiteColor]];\n        appearance.shadowImage &#x3D; [UIImage new];\n        appearance.shadowColor &#x3D; [UIColor clearColor];\n        UITabBarItemAppearance *inlineLayoutAppearance &#x3D; [[UITabBarItemAppearance alloc] init];\n        [inlineLayoutAppearance.normal setTitleTextAttributes:normalTitleAttributes];\n        [inlineLayoutAppearance.selected setTitleTextAttributes:selectedTitleAttributes];\n        appearance.stackedLayoutAppearance &#x3D; inlineLayoutAppearance;\n        self.tabBar.standardAppearance &#x3D; appearance;\n    &#125;\n\n#else\n    \n    [[UITabBar appearance] setBarTintColor:[UIColor whiteColor]];\n    [[UITabBar appearance] setShadowImage:[[UIImage alloc]init]];\n    [[UITabBar appearance] setBackgroundImage:[UIImage imageWithColor:[UIColor whiteColor]]];\n    [[UITabBar appearance] setTranslucent:NO];\n    \n#endif<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> **UINavigationBar **</p>\n <pre class=\"line-numbers language-objective-c\" data-language=\"objective-c\"><code class=\"language-objective-c\">&#x2F;&#x2F; 如果需要设置字体就在字典中加入 [UIFont fontWithName:@&quot;Hiragino Sans GB&quot; size:14]\n[[UINavigationBar appearance] setTitleTextAttributes:@&#123;NSForegroundColorAttributeName:[UIColor blackColor]&#125;];\n[[UINavigationBar appearance] setBarTintColor:[UIColor whiteColor]]; &#x2F;&#x2F; 导航栏背景颜色\n[[UINavigationBar appearance] setTintColor:[UIColor blueColor]]; &#x2F;&#x2F; 导航栏返回按钮、自定义UIBarButtonItem颜色\n[[UINavigationBar appearance]  setBackgroundImage:[UIImage imageWithColor:[UIColor whiteColor]] forBarPosition:UIBarPositionAny barMetrics:UIBarMetricsDefault];\n[[UINavigationBar appearance] setShadowImage:[[UIImage alloc] init]]; &#x2F;&#x2F; 去除自带分割线\n[[UINavigationBar appearance] setTranslucent:NO];<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>translucent属性</strong> </p>\n<p>iOS 7 开始采用了扁平化设计，UINavigationBar和UITabBar附带了半透明效果，translucent属性能决定UITabBar/UINavigationBar是否为半透明的效果，默认为YES，即默认情况下为半透明效果</p>\n<p><strong>设置title属性</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">self.navigationItem.title &#x3D; @&quot;my title&quot;; &#x2F;&#x2F;sets navigation bar title.\nself.tabBarItem.title &#x3D; @&quot;my title&quot;; &#x2F;&#x2F; sets tab bar title.\nself.title &#x3D; @&quot;my title&quot;; &#x2F;&#x2F; sets both of these.<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>UITabBar、UINavigationBar icon图标渲染问题</strong></p>\n <pre class=\"line-numbers language-none\"><code class=\"language-none\">UIImage *leftBarButtonImage &#x3D; [[UIImage imageNamed:@&quot;navbar_back_normal&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];\n\nself.navigationItem.leftBarButtonItem &#x3D; [[UIBarButtonItem alloc] initWithImage:leftBarButtonImage style:UIBarButtonItemStylePlain target:self action:@selector(dismiss)];\n    \n    \nvc.tabBarItem.title &#x3D; title;\nvc.tabBarItem.image &#x3D; [[UIImage imageNamed:image] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];\nvc.tabBarItem.selectedImage &#x3D; [[UIImage imageNamed:selectedImage] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];\n    <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>UIBarButtonItem 间距偏移问题</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">UIImage *leftBarButtonImage &#x3D; [[UIImage imageNamed:@&quot;navbar_back_normal&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];\n\nif (@available(iOS 11.0, *)) &#123;\n    UIButton *leftButton &#x3D; [UIButton buttonWithType:UIButtonTypeCustom];\n    leftButton.frame &#x3D; CGRectMake(0, 0, 44, 44);\n    [leftButton setImage:leftBarButtonImage forState:UIControlStateNormal];\n    [leftButton setImage:leftBarButtonImage forState:UIControlStateHighlighted];\n    leftButton.contentEdgeInsets &#x3D;UIEdgeInsetsMake(0, -20,0, 0);\n    leftButton.imageEdgeInsets &#x3D;UIEdgeInsetsMake(0, -15,0, 0);\n    [leftButton addTarget:self action:@selector(back) forControlEvents:UIControlEventTouchUpInside];\n    UIBarButtonItem *leftBarButtonItem &#x3D; [[UIBarButtonItem alloc] initWithCustomView:leftButton];\n    self.navigationItem.leftBarButtonItems&#x3D;@[leftBarButtonItem];\n    \n&#125;else&#123;\n    self.navigationItem.leftBarButtonItem &#x3D; [[UIBarButtonItem alloc] initWithImage:leftBarButtonImage style:UIBarButtonItemStylePlain target:self action:@selector(back)];\n    UIBarButtonItem *spacer &#x3D; [[UIBarButtonItem alloc] initWithBarButtonSystemItem: UIBarButtonSystemItemFixedSpace target:self action:@selector(back)];\n    spacer.width &#x3D; -8;\n    self.navigationItem.leftBarButtonItems &#x3D; @[spacer, self.navigationItem.leftBarButtonItem];\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>UIBarButtonItem frame</strong></p>\n<p>获取self.navigationItem.leftBarButtonItem的frame,因为UIBarButtonItem继承UIView,所以要获取View对象然后在操作</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">UIView *view &#x3D; [self.navigationItem.leftBarButtonItem valueForKey:@&quot;view&quot;];<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n\n<hr>\n<p>2019.11.13更新</p>\n","text":"UITabBar NSDictionary *normalTitleAttributes &#x3D; @&#123;NSForegroundColorAttributeName:[UIColor grayColor],NSFontAttributeName:[UIFont sy...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"UITabBar","slug":"UITabBar","count":1,"path":"api/tags/UITabBar.json"},{"name":"UINavigationBar","slug":"UINavigationBar","count":1,"path":"api/tags/UINavigationBar.json"}],"toc":"","author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"获取Images.xcassets启动图、Images.xcassets Icon","uid":"03b9660078dfc9e29b336cb5a6e44fe3","slug":"获取Images-xcassets启动图、Images-xcassets-Icon","date":"2018-04-09T08:15:35.000Z","updated":"2020-03-28T15:54:25.000Z","comments":true,"path":"api/articles/获取Images-xcassets启动图、Images-xcassets-Icon.json","keywords":null,"cover":null,"text":"获取Images.xcassets Icon文件NSDictionary *infoPlist &#x3D; [[NSBundle mainBundle] infoDictionary]; NSString *icon &#x3D; [[infoPlist valueForKey...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"iOS","slug":"iOS","count":36,"path":"api/categories/iOS.json"}],"tags":[{"name":"Images.xcassets","slug":"Images-xcassets","count":1,"path":"api/tags/Images-xcassets.json"},{"name":"启动图","slug":"启动图","count":1,"path":"api/tags/启动图.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}},"next_post":{"title":"碎碎念在2018年1月11日","uid":"e02ca1f2b687cdf768fe32dfcdce8d4c","slug":"碎碎念在2018年1月11日","date":"2018-01-11T10:57:20.000Z","updated":"2020-03-28T15:51:28.000Z","comments":true,"path":"api/articles/碎碎念在2018年1月11日.json","keywords":null,"cover":null,"text":"新版本昨天上线，首页改版后造成版本崩溃率到达2%。原本三周的开发周期提前一周完成开发并上线，到正式上线中间被拒两次，一次是app第三方Web登录闪退，另一次是误开了Apple Pay设置，但是项目中并未使用Apple Pay，然而在Capabilities中打开了这一项，这个在很...","link":"","photos":[],"count_time":{"symbolsCount":764,"symbolsTime":"1 mins."},"categories":[{"name":"碎碎念","slug":"碎碎念","count":13,"path":"api/categories/碎碎念.json"}],"tags":[{"name":"BUG","slug":"BUG","count":1,"path":"api/tags/BUG.json"}],"author":{"name":"新风作浪","slug":"blog-author","avatar":"http://qiniu.niuxtech.cn/avatar.png","link":"/","description":"专注于你能控制的","socials":{"github":"https://github.com/duxinfeng","twitter":"https://twitter.com/iduxinfeng","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/duxinfeng2010","juejin":"","customs":{}}}}}